[mgr]
# Show hidden files by default
show_hidden = true
# Sort directories first
sort_by = "alphabetical"
sort_sensitive = false
sort_reverse = false
sort_dir_first = true
# Line mode (size, permissions, mtime, etc.)
linemode = "size"
# Show symlink targets
show_symlink = true


[preview]
# Preview images
image_filter = "lanczos3"
image_quality = 90
# Max file size to preview (in bytes, 10MB here)
max_width = 600
max_height = 900
# Syntax highlighting for text files
tab_size = 2
# Preview cache directory
cache_dir = ""

[opener]
# Define how to open different file types
edit = [
  { run = 'nvim "$@"', block = true, desc = "Edit with Neovim" },
]
open = [
  { run = 'xdg-open "$@"', desc = "Open with default app" },
]
reveal = [
  { run = 'open -R "$@"', desc = "Reveal in Finder (macOS)" },
]
play = [
  { run = 'mpv "$@"', orphan = true, desc = "Play with mpv" },
]
view = [
  { run = 'sxiv "$@"', orphan = true, desc = "View images" },
]

[open]
# Rules for different file types
rules = [
  # Text files
  { mime = "text/*", use = "edit" },
  { mime = "application/json", use = "edit" },
  { mime = "application/x-yaml", use = "edit" },
  
  # Images
  { mime = "image/*", use = "view" },
  
  # Videos
  { mime = "video/*", use = "play" },
  { mime = "audio/*", use = "play" },
  
  # PDFs and documents
  { mime = "application/pdf", use = "open" },
  
  # Archives - don't define a rule, let Yazi handle them internally
  
]

[tasks]
# Max number of concurrent tasks
micro_workers = 5
macro_workers = 10
bizarre_retry = 5

[log]
enabled = false
